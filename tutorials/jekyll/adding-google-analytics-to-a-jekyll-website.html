<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Adding Google Analytics to a Jekyll Website</title>
  <meta name="description" content="In this tutorial we will be taking a look at how we can add Google Analytics tracking to a Jekyll based website.">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="/tutorials/jekyll/adding-google-analytics-to-a-jekyll-website">
  <link rel="alternate" type="application/rss+xml" title="Hash Array" href="/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">

    <a class="site-title" href="/">Hash Array</a>

    <nav class="site-nav">
      <span class="menu-icon">
        <svg viewBox="0 0 18 15" width="18px" height="15px">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </span>

      <div class="trigger">
        
          
        
          
          <a class="page-link" href="/">Home</a>
          
        
          
          <a class="page-link" href="/tutorials/">Tutorials</a>
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Adding Google Analytics to a Jekyll Website</h1>
  </header>

  <div class="post-content">
    <p>In this tutorial we will be taking a look at how we can add Google Analytics
tracking to a Jekyll based website.</p>

<p>Google Analytics provides an easy to use analytics solution for any website,
and while it’s not that complex to setup there are certain Jekyll centric
things we can do in order to make the tracking better, we can also disable it
during local development.</p>

<h2 id="configuring-the-tracking-id">Configuring the Tracking ID</h2>

<p>We need to store our tracking id, putting it in the site’s <code class="highlighter-rouge">_config.yml</code> file
is a good place to do so.</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">google_tracking_id</span><span class="pi">:</span> <span class="s">UA-XXXXX-Y</span>
</code></pre>
</div>

<h2 id="including-the-google-analytics-script">Including the Google Analytics Script</h2>

<p>We’ll put the actual Analytics script inside the <code class="highlighter-rouge">_include</code> folder, and name
the file <code class="highlighter-rouge">google_analytics.html</code>.</p>

<p>The contents of this file will be the following.</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code>&lt;script type="text/javascript"&gt;
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;

  ga('create', '<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">google_tracking_id</span><span class="w"> </span><span class="p">}}</span>', 'auto');
  ga('send', 'pageview');
&lt;/script&gt;
&lt;script async src='https://www.google-analytics.com/analytics.js'&gt;&lt;/script&gt;
</code></pre>
</div>

<p>We can then include this in our main layout.</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code>&lt;body&gt;
<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">google_tracking_id</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">include</span><span class="w"> </span><span class="na">google_analytics</span><span class="p">.</span><span class="na">html</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
&lt;/body&gt;
</code></pre>
</div>

<h2 id="disabling-analytics-during-development">Disabling Analytics During Development</h2>

<p>While it is possible to filter out IP addresses within Google Analytics itself,
it can be more practical to just disable the tracking script during local
development.</p>

<p>To do this, we can just check if the <code class="highlighter-rouge">site.environment</code> variable is set to
development or not.</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">google_tracking_id</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">environment</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">'development'</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">include</span><span class="w"> </span><span class="na">google_analytics</span><span class="p">.</span><span class="na">html</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</code></pre>
</div>

<h2 id="conclusion">Conclusion</h2>

<p>With just a few simple steps we can fit Google Analytics quite naturally into
an existing Jekyll website while having it disabled during local development.</p>

<p>From here, more tracking can be added as needed like outbound links, scroll
depth etc but as a general case page views is quite sufficient.</p>

  </div>

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Hash Array</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              Hash Array
            
            </li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
